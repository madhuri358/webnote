<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Notepad</title>
        <link rel="stylesheet" href="notepad2.css">

        <script src="https://code.jquery.com/jquery-3.5.1.min.js" 
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
        </script>
        
        <script>
            
            var fontselect='';
            for(var i=8;i<=30;i++)
            {
                fontselect+='<option value="'+i+'">'+i+'</option>';
                // console.log(fontselect);
            }

            // console.log(window.getSelection)
            function addnoteloc(key,val,htmlid)
            {
                var textareaname= key;
                var scwid=screen.width;
                var inpid=textareaname+'inp';
                var txt_area_id=textareaname+'txtar';
                var colorid=txt_area_id+'cid';
                var colortxt=txt_area_id+'txt';
                var txtclrbtn=txt_area_id+'clr';
                var txtarbtn=txt_area_id+'txtarclr';
                var selid=textareaname+'sel';
                var bldid=textareaname+'bld';
                var x=  '<form id="'+textareaname+'" >';
                x+=' <input class="inptxtarea" disabled="disabled" type="text" id="'+inpid+'" placeholder="enter the input" value="'+textareaname+'">';
                // x+='<legend>'+textareaname+'</legend>';
                x+='Font-Size: <select id="'+selid+'" class="btnnote" onchange="changefont(\''+textareaname+'\')"; >'+fontselect+'</select>';
                x+='<input id="'+colortxt+'" type="color" class="clrbtn" oninput="changetxtcolor(\''+txt_area_id+'\')" /><button id="'+txtclrbtn+'" class="bgclr"><b>A</b></button>';
                x+='<input id="'+colorid+'" type="color" class="clrbtn" oninput="changecolor(\''+txt_area_id+'\')" /><button id="'+txtarbtn+'" class="bgclr"><b>A</b></button>';
                x+='<button id="'+bldid+'" type="button" onclick="boldtog(\''+textareaname+'\')" class="bgclr"><b>B</b></button>';
                x+='<button type="button" class="btnnote" id="" onclick="delme(\''+textareaname+'\');"><b>X</b></button><button type="button" class="btnnote" onclick="saveme(\''+textareaname+'\');"><b>Save</b></button>';
                x+='<br><hr><textarea id="'+txt_area_id+'"></textarea></form>';

                // x+='<button class="xmark" type="button" id="" onclick=delme("'+textareaname+'")>x</button></fieldset>';
    
                // var sk=document.getElementById(htmlid); 
                // sk.innerHTML+=x;
                htmlid='#'+htmlid;
                jQuery(htmlid).append(x);
                document.getElementById(txt_area_id).value=val;
            }

            // function reload()
            // {
            //     for(var i=0;i<localStorage.length;i++)
            //     {
            //         var key=localStorage.key(i);
            //         var val=localStorage.getItem(key);
            //         console.log(typeof(key));
            //         console.log(typeof(val));
            //         addjq('demo',key);
            //     }
            // }
            
            // reload();
            function changecolor(txt_area_id)
            {
                var x=document.getElementById(txt_area_id);
                var clrid=document.getElementById(txt_area_id+'cid');
                var btnid=document.getElementById(txt_area_id+'txtarclr');
                // console.log(clrid.value);
                btnid.style.backgroundColor=clrid.value;
                // console.log(x.value);
                x.style.backgroundColor =clrid.value;
            }

            function changetxtcolor(txt_area_id)
            {
                var x=document.getElementById(txt_area_id);
                var clrid=document.getElementById(txt_area_id+'txt');
                var btnid=document.getElementById(txt_area_id+'clr');
                // console.log(clrid.value);
                btnid.style.color=clrid.value;
                // console.log(x.value);
                x.style.color =clrid.value;
            }
            
            function changefont(textareaname)
            {
                var x=document.getElementById(textareaname+'txtar');
                var y=document.getElementById(textareaname+'sel');
                // console.log(y.value);
                // console.log(x.style.fontSize.value);
                x.style.fontSize=y.value+'px';
                // console.log(x);
                console.log(x.style.fontSize);
            }
            function boldtog(textareaname)
            {
                var x=document.getElementById(textareaname+'txtar');
                var y=document.getElementById(textareaname+'bld');
                if(x.style.fontWeight=='normal')
                    x.style.fontWeight='bold';
                else
                    x.style.fontWeight='normal';

               
            }
            function addjq(htmlid,inputid)
            {
                var textareaname= document.getElementById(inputid).value;
                if(textareaname.length==0)
                {
                    alert('Hey title of note is empty');
                    return;
                }
                var scwid=screen.width;
                var inpid=textareaname+'inp';
                var txt_area_id=textareaname+'txtar';
                var colorid=txt_area_id+'cid';
                var colortxt=txt_area_id+'txt';
                var txtclrbtn=txt_area_id+'clr';
                var txtarbtn=txt_area_id+'txtarclr';
                var selid=textareaname+'sel';
                var bldid=textareaname+'bld';
                var x=  '<form id="'+textareaname+'" >';
                x+=' <input class="inptxtarea" disabled="disabled" type="text" id="'+inpid+'" placeholder="enter the input" value="'+textareaname+'">';
                // x+='<legend>'+textareaname+'</legend>';
                x+='Font-Size: <select id="'+selid+'" class="btnnote" onchange="changefont(\''+textareaname+'\')"; >'+fontselect+'</select>';
                x+='<input id="'+colortxt+'" type="color" class="clrbtn" oninput="changetxtcolor(\''+txt_area_id+'\')" /><button id="'+txtclrbtn+'" class="bgclr"><b>A</b></button>';
                x+='<input id="'+colorid+'" type="color" class="clrbtn" oninput="changecolor(\''+txt_area_id+'\')" /><button id="'+txtarbtn+'" class="bgclr"><b>A</b></button>';
                x+='<button id="'+bldid+'" type="button" onclick="boldtog(\''+textareaname+'\')" class="bgclr"><b>B</b></button>';
                x+='<button type="button" class="btnnote" id="" onclick="delme(\''+textareaname+'\');"><b>X</b></button><button type="button" class="btnnote" onclick="saveme(\''+textareaname+'\');"><b>Save</b></button>';
                x+='<br><hr><textarea id="'+txt_area_id+'"></textarea></form>';

                // x+='<button class="xmark" type="button" id="" onclick=delme("'+textareaname+'")>x</button></fieldset>';
    
                // var sk=document.getElementById(htmlid); 
                // sk.innerHTML+=x;
                htmlid='#'+htmlid;
                jQuery(htmlid).append(x);
            }
            function delme(mytextareaname)
            {
                // console.log(mytextareaname);
                // var name=document.getElementById(delid);
                // alert(name.value);
                localStorage.removeItem(mytextareaname);
                name='#'+mytextareaname;
                jQuery(name).remove();
            }
            function del()
            {
                var name=document.getElementById('delid').value;
                if(name.length==0)
                {
                    alert('Hey title of note is empty cannot be deleted');
                    return;
                }
                localStorage.removeItem(name);
                name='#'+name;
                jQuery(name).remove();
                
            }
            
            function saveme(mytextareaname)
            {
                var txtid=mytextareaname+'txtar';
                console.log(txtid.innerHTML);
                var x=document.getElementById(txtid).value;
                console.log(x);
                localStorage.setItem(mytextareaname,x);
            }
        </script>
    </head>

    <body class='c'>
        <!-- <br><br> -->
   
        <img src="book.png" style="width: 70px; opacity: 0.8; margin-top: 50px;" /><br>
        <!-- <br><br><br><br><br><br> -->

        <span style="color: rgb(222, 233, 243); "><b>Notepad</b></span><br><br>
        
        
        
        
        <!-- <h2 style="color: rgb(222, 233, 243);">Enter Title</h2> -->
       

        

        <input class="titl" type="text" id='titlename' placeholder="enter title">
        <!-- <button style="background-color: rgb(31, 131, 253);" type="button" onclick="addnote('demo');">addnote</button> -->

        <button class="addnt" type="button" onclick="addjq('demo','titlename'); ">AddNote</button>

        <br><br>
        
        
        <!-- <input class="titl" placeholder="enter title" type="text" id='delid'>
        <br><br>
        <button style="background-color: rgb(11, 48, 121); font-size: 18px; border-radius:20px; width: 170px; height: 40px;" type="button" onclick="del();">DeLNote</button> -->

       

        <!-- this.id is for getting the id of the current element -->
        <!-- <button id="jefjjf" type="button" onclick='alert(this.id);'>clickme</button> -->

        <!-- <button onclick='addjq("demo")';>clickme</button> -->


        <p id="demo"></p>
        <script>
            function reload()
            {
                for(var i=0;i<localStorage.length;i++)
                {
                    var key=localStorage.key(i);
                    var val=localStorage.getItem(key);
                    console.log(typeof(key));
                    console.log(typeof(val));
                    addnoteloc(key,val,'demo');
                }
            }
            
            reload();
        </script>
       
        <!-- <input type="color" style='opacity:0;width:100px;position:absolute;'/>
        <button>clickme</button> -->
        
        <!-- style="width:'+scwid+'" -->
        
    </body>
</html>